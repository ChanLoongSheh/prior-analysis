Ground-based Atmospheric Profiles — Step 7: Information Content Analysis (Δc-normalized)

Inputs:
  - Step 6 ΔI combined CSV: C:\Users\24573\OneDrive - The University of Hong Kong\PhD\Project\atmospheric sounding\prior-analysis\Step6_PCA_WeightingFunctions\DeltaI_weighting_functions_all.csv
  - Step 5 Δc CSV:          C:\Users\24573\OneDrive - The University of Hong Kong\PhD\Project\atmospheric sounding\prior-analysis\Step5_Perturbation_Joint\Joint_k99\delta_c_used_k99.csv

Core relations:
  - W_i(λ) = 0.5 · (ΔI_i,plus(λ) − ΔI_i,minus(λ)) ≈ Δc_i · ∂I(λ)/∂c_i
  - U_i(λ) = W_i(λ) / Δc_i ≈ ∂I(λ)/∂c_i  (unit-coefficient sensitivity)
  - Sliding window [λ_c − Δλ/2, λ_c + Δλ/2]: V_i = ∫ F_i(λ) dλ, F = W or U
    Metrics: E_L2 = ||V||_2; dominance_index = max_i |V_i| / Σ_i |V_i|;
             opposition_fraction = fraction of significant (≥1% of dominant) non-dominant components
             whose sign opposes the dominant sign.
  - Window settings: width Δλ = 0.500 μm, stride = 0.100 μm.

Outputs (all CSVs include headers; λ-indexed tables use 'lambda_um'):
  - PC_W_halfdiff_sensitivity.csv: Step7_InfoContent_Analysis\PC_W_halfdiff_sensitivity.csv
  - PC_U_unit_sensitivity.csv: Step7_InfoContent_Analysis\PC_U_unit_sensitivity.csv
  - S_curves_W.csv: Step7_InfoContent_Analysis\S_curves_W.csv
  - S_curves_U.csv: Step7_InfoContent_Analysis\S_curves_U.csv
  - window_metrics_W.csv: Step7_InfoContent_Analysis\window_metrics_W.csv
  - window_metrics_U.csv: Step7_InfoContent_Analysis\window_metrics_U.csv
  - top_windows_by_energy_U.csv: Step7_InfoContent_Analysis\top_windows_by_energy_U.csv
  - top_windows_per_pc_U.csv: Step7_InfoContent_Analysis\top_windows_per_pc_U.csv
  - PC_pairwise_correlation_W.csv: Step7_InfoContent_Analysis\PC_pairwise_correlation_W.csv
  - PC_pairwise_correlation_U.csv: Step7_InfoContent_Analysis\PC_pairwise_correlation_U.csv

Figures:
  - Step7_InfoContent_Analysis\plots\overlay_PC_W.png
  - Step7_InfoContent_Analysis\plots\overlay_PC_U.png
  - Step7_InfoContent_Analysis\plots\sensitivity_curves_W_vs_U.png
  - Step7_InfoContent_Analysis\plots\overlay_U_with_top_windows.png

Notes:
  - Ranking and Top-N selections are based on U_i (Δc-normalized) by default to remove bin-width bias.
  - W-based outputs are provided for reference.
  - No detector system effects are included in Step 7.
